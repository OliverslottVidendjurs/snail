!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(){function e(e,t,n){this.id=e,this.navn=t,this.foto=n,this.minSpring=3,this.maxSpring=15,this.startX=-160,this._x=this.startX,this.y=0,this.element=null}return e.prototype.init=function(e){this.y=e},e.prototype.move=function(){return this._x+=this.spring(),this.render(),this},e.prototype.reset=function(){return this._x=this.startX,this.render(),this},e.prototype.createElement=function(){var e=document.createElement("div");return e.id=this.id,e.className="snegle-container",e.style.backgroundImage='url("'+this.foto+'")',e.style.top=this.y+"px",e.style.left=this.x+"px",this.element=e,this.element},e.prototype.render=function(){null!==this.element?this.element.style.left=this._x+"px":console.error("Call init before calling render!")},e.prototype.spring=function(){return Math.round(Math.random()*this.maxSpring)+this.minSpring},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),e}(),i=function(){function e(){this.renderTop10()}return e.prototype.addWinnersToScoreboard=function(e,t){document.querySelector("#resetknap").style.display="block";var n=JSON.parse(localStorage.getItem("winner"));null===n&&(n=[]);for(var r=0,i=e;r<i.length;r++){var o=i[r];n.push({name:o,time:t})}localStorage.setItem("winner",JSON.stringify(n)),this.renderTop10()},e.prototype.renderTop10=function(){var e=document.querySelector(".top10");e.innerHTML="";for(var t=0,n=this.getTop10();t<n.length;t++){var r=n[t];e.innerHTML+="<li>"+r.name+": "+r.time+"</li>"}},e.prototype.getTop10=function(){var e=JSON.parse(localStorage.getItem("winner"));return e?e.sort((function(e,t){return e.time-t.time})).slice(0,10):[]},e}();(new(function(){function e(){this.racetrack=document.querySelector("#raceway"),this.tidsinterval=100,this.finishLine=730,this.yDifference=100,this.winners=[],this.sek=0,this.score=new i,this.snegle=[new r("a","Dennis","img/snegl1.png"),new r("b","George","img/snegl2.png"),new r("c","Bob","img/snegl3.png"),new r("d","Harold","img/snegl4.png")]}return e.prototype.init=function(){var e=this;this.snegle.forEach((function(t,n){t.init(e.yDifference*n-40)})),this.addSnailsToBoard(),this.bindEvents()},e.prototype.start=function(){document.querySelector("#startknap").style.display="none",this.afsted(),console.log("test")},e.prototype.reset=function(){for(var e=0,t=this.snegle;e<t.length;e++){t[e].reset()}this.winners=[],this.sek=0,document.querySelector("#resetknap").style.display="none",document.querySelector(".resultat p").innerText="",this.start()},e.prototype.addSnailsToBoard=function(){for(var e=0,t=this.snegle;e<t.length;e++){var n=t[e],r=n.createElement(),i=document.createElement("div");i.innerHTML="<p>"+n.navn+"</p>",i.className="name-container",r.appendChild(i),this.racetrack.appendChild(r)}},e.prototype.bindEvents=function(){var e=this;document.querySelector("#startknap").addEventListener("click",(function(){e.start()})),document.querySelector("#resetknap").addEventListener("click",(function(){e.reset()}))},e.prototype.afsted=function(){for(var e=this,t=0,n=this.snegle;t<n.length;t++){var r=n[t];r.move(),r.x>=this.finishLine&&this.winners.push(r.navn)}this.winners.length?this.winner(this.winners):(setTimeout((function(){return e.afsted()}),this.tidsinterval),this.sek+=1)},e.prototype.winner=function(e){var t=document.querySelector(".resultat p"),n=this.sek*this.tidsinterval/1e3;e.length&&(1===e.length?t.innerText="Ræset blev vundet af "+e+"! Det tog "+n+" sekunder":t.innerText="Ræset er slut - det blev udafgjort mellem: "+e+"! Det tog "+n+" sekunder"),this.score.addWinnersToScoreboard(e,n)},e}())).init()}]);